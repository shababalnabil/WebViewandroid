# Workflow setup for building Native Android project
workflows:
    android-app: # workflow ID
        name: Android app # workflow name
        scripts:
        - |
    # set up release keystore
    echo "$CM_KEYSTORE" | base64 --decode > "testingkey.jks"
    cat >> "$FCI_BUILD_DIR/keystore.properties.kts" <<EOF
    storePassword=$CM_KEYSTORE_PASSWORD
    keyPassword=$CM_KEY_ALIAS_PASSWORD
    keyAlias=$CM_KEY_ALIAS_USERNAME
    storeFile=$FCI_BUILD_DIR/testingkey.jks
    EOF
            - ./gradlew assembleRelease
        artifacts:
            - build/outputs/**/**/*.apk

